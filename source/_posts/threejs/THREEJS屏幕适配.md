---
title: 简单一招搞定 three.js 屏幕适配
date: 2016-11-24 14:27:07
tags: three.js
category: three.js
---
做过手机 H5 的同学可能会觉得屏幕适配挺麻烦。原因是设计师提供的设计稿尺寸比固定，但是目标设备屏幕大小种类又比较多，甚至有时开发和设计没有协调可能会妥协比较丑陋的方案，就是设备两边，或者上下留黑边这种。不过在 3D 的世界里，我们不用担心会有黑边的问题，因为 3D 场景是延伸的，只要设置好相机，不会有看不见的地方。
而且 threejs 渲染只和屏幕比例有关，和实际尺寸无关，天然的解决了缩放的问题。

下面我用一个简单的 demo 说一下我的方案。

## 场景
场景很简单，只有一个边长为 100 的正方体，放在世界坐标中心。

## 目标
目标很简单：在任何屏幕下，都能最大程度地看到完整的立方体。最大程度，就是最少多余空间的意思。

## 设置相机
先在理想长宽比例 1 : 1 的尺寸下渲染出整个正方体。这应该挺简单，我们拍照都知道，要想相机拍到更多或者更少的东西，可以调整相机和物体的距离，或者调整光圈大小。想象一下你拥有这样一部可以调节光圈的相机，你会怎么做，抱着个相机到处跑，还是按一按相机的调整按钮？答案很明显了，对应到 three.js 也能很清楚。

position: 根据不同屏幕调整相机到目标物体的距离。
fov: 根据不同屏幕调整相机视角宽度。

three.js 对应这两个概念的属性分别是 position 和 fov。
改变 fov 不需要考虑目标物体，只需考虑相机本身。

